<!-- template.html -->
<html>
  <head>
    <title>Weather</title>
    <script src="http://fb.me/react-0.11.2.js"></script>
    <script src="http://fb.me/JSXTransformer-0.11.2.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.0.min.js"></script>

	<!-- Firebase JS -->
  	<script src="https://cdn.firebase.com/js/client/1.0.17/firebase.js"></script>

	<!-- ReactFire -->
	<script src="https://cdn.firebase.com/libs/reactfire/0.3.0/reactfire.min.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

	<style type="text/css">
			body {
		  padding-top: 20px;
		}
		#main {
		  padding: 40px 15px;
		}

		.weatherTemp {
			font-size: 100pt;
		}

		.weatherStation {
			font-size: 14pt;
			text-align: center;
		}

		.currentTime {
			margin-top: 45px;
			font-size: 60pt;
		}


	</style>
  </head>
  <body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	      <div class="container">
	        <div class="navbar-header">
	          <a class="navbar-brand" href="#">Weather</a>
	        </div>
	        <div class="collapse navbar-collapse">
	        </div><!--/.nav-collapse -->
	      </div>
	    </div>

	    <div class="container">

	        <div class="row" id="main">
	   			<div class="col-md-2">
	   				<div id="weatherTemp">
	   				</div>
	   				<br/>
	   				<div id="weatherStation">
	   				</div>
	    		</div>
	    		<div class="col-md-2 col-md-offset-7 currentTime">
	  				19:00
	    		</div>
    		</div>
    		<div class="row" id="main">
	   			<div class="col-md-2">
	    		</div>
    		</div>

		<script type="text/jsx">
      /** @jsx React.DOM */
      	var BASE_FIREBASE = "https://resplendent-fire-4023.firebaseio.com";
		
		var WeatherTemperature = React.createClass({
		    mixins: [ReactFireMixin],
			
			getInitialState: function() {
			    return {temperature: 0};
			  },

		  componentWillMount: function() {
			  this.bindAsObject(new Firebase(BASE_FIREBASE + "/current-weather/temperature"), "temperature");
		  },

	  	  render: function() {
		    return (<div className="weatherTemp">{ this.state.temperature }&deg;</div>
		    		);
		  }
		});

		React.renderComponent(<WeatherTemperature />, document.getElementById("weatherTemp"));

		var WeatherStation = React.createClass({
		    mixins: [ReactFireMixin],
			
			getInitialState: function() {
			    return {station: "test"};
			  },

		  componentWillMount: function() {
			  this.bindAsObject(new Firebase(BASE_FIREBASE + "/current-weather/station"), "station");
		  },

	  	  render: function() {
		    return (<div className="weatherStation">From: { this.state.station }</div>
		    		);
		  }
		});

		React.renderComponent(<WeatherStation />, document.getElementById("weatherStation"));
    </script>

   	 </div><!-- /.container -->
  </body>
</html>